<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title><!-- % Lagged and Iterated -->
Fast Growth Rates for Time-Series and Panel Data — fgrowth • collapse</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="<!-- % Lagged and Iterated -->
Fast Growth Rates for Time-Series and Panel Data — fgrowth" />
<meta property="og:description" content="fgrowth is a S3 generic to compute (sequences of) suitably lagged / leaded and iterated growth rates, obtained with via the exact method of computation of through log differencing. By default growth rates are provided in percentage terms, but any scale factor can be applied. The growth operator G is a parsimonious wrapper around fgrowth. Apart from being more parsimonious, it provides a bit more flexibility than fgrowth when applied to data frames." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">collapse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Documentation</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../blog/index.html">Blog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/collapse">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/SebKrantz/collapse">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1><!-- % Lagged and Iterated -->
Fast Growth Rates for Time-Series and Panel Data</h1>
    
    <div class="hidden name"><code>fgrowth.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>fgrowth</code> is a S3 generic to compute (sequences of) suitably lagged / leaded and iterated growth rates, obtained with via the exact method of computation of through log differencing. By default growth rates are provided in percentage terms, but any scale factor can be applied. The growth operator <code>G</code> is a parsimonious wrapper around <code>fgrowth</code>. Apart from being more parsimonious, it provides a bit more flexibility than <code>fgrowth</code> when applied to data frames.</p>
    </div>

    <pre class="usage">fgrowth(x, n = 1, diff = 1, ...)
      G(x, n = 1, diff = 1, ...)
&lt;!-- % ## Default S3 methods: --&gt;
# S3 method for default
fgrowth(x, n = 1, diff = 1, g = NULL, t = NULL, fill = NA,
        logdiff = FALSE, scale = 100, stubs = TRUE, ...)
# S3 method for default
G(x, n = 1, diff = 1, g = NULL, t = NULL, fill = NA,
  logdiff = FALSE, scale = 100, stubs = TRUE, ...)
&lt;!-- %## S3 methods for class 'matrix' --&gt;
# S3 method for matrix
fgrowth(x, n = 1, diff = 1, g = NULL, t = NULL, fill = NA,
        logdiff = FALSE, scale = 100, stubs = TRUE, ...)
# S3 method for matrix
G(x, n = 1, diff = 1, g = NULL, t = NULL, fill = NA,
  logdiff = FALSE, scale = 100, stubs = TRUE, ...)
&lt;!-- %## S3 methods for class 'data.frame' --&gt;
# S3 method for data.frame
fgrowth(x, n = 1, diff = 1, g = NULL, t = NULL, fill = NA,
        logdiff = FALSE, scale = 100, stubs = TRUE, ...)
# S3 method for data.frame
G(x, n = 1, diff = 1, by = NULL, t = NULL, cols = is.numeric,
  fill = NA, logdiff = FALSE, scale = 100, stubs = TRUE, keep.ids = TRUE, ...)

# Methods for compatibility with plm:
&lt;!-- %## S3 methods for class 'pseries' --&gt;
# S3 method for pseries
fgrowth(x, n = 1, diff = 1, fill = NA, logdiff = FALSE, scale = 100, stubs = TRUE, ...)
# S3 method for pseries
G(x, n = 1, diff = 1, fill = NA, logdiff = FALSE, scale = 100, stubs = TRUE, ...)
&lt;!-- %## S3 methods for class 'pdata.frame' --&gt;
# S3 method for pdata.frame
fgrowth(x, n = 1, diff = 1, fill = NA, logdiff = FALSE, scale = 100, stubs = TRUE, ...)
# S3 method for pdata.frame
G(x, n = 1, diff = 1, cols = is.numeric, fill = NA,
  logdiff = FALSE, scale = 100, stubs = TRUE, keep.ids = TRUE, ...)

# Methods for compatibility with dplyr:
&lt;!-- %## S3 methods for class 'grouped_df' --&gt;
# S3 method for grouped_df
fgrowth(x, n = 1, diff = 1, t = NULL, fill = NA, logdiff = FALSE, scale = 100,
        stubs = TRUE, keep.ids = TRUE, ...)
# S3 method for grouped_df
G(x, n = 1, diff = 1, t = NULL, fill = NA, logdiff = FALSE, scale = 100,
  stubs = TRUE, keep.ids = TRUE, ...)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a numeric vector, matrix, data.frame, panel-series (<code><a href='https://rdrr.io/pkg/plm/man/pseries.html'>plm::pseries</a></code>), panel-data.frame (<code><a href='https://rdrr.io/pkg/plm/man/pdata.frame.html'>plm::pdata.frame</a></code>) or grouped tibble (<code><a href='https://dplyr.tidyverse.org/reference/grouped_df.html'>dplyr::grouped_df</a></code>).</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>a integer vector indicating the number of lags or leads.</p></td>
    </tr>
    <tr>
      <th>diff</th>
      <td><p>a vector of integers &gt; 1 indicating the order of taking growth rates.</p></td>
    </tr>
    <tr>
      <th>g</th>
      <td><p>a factor, <code><a href='GRP.html'>GRP</a></code> object, atomic vector (internally converted to factor) or a list of vectors / factors (internally converted to a <code><a href='GRP.html'>GRP</a></code> object) used to group <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p><em>data.frame method</em>: Same as <code>g</code>, but also allows one- or two-sided formulas i.e. <code>~ group1</code> or <code>var1 + var2 ~ group1 + group2</code>. See Examples.</p></td>
    </tr>
    <tr>
      <th>t</th>
      <td><p>same input as <code>g</code>, to indicate the time-variable. For safe computation of growth rates on unordered time-series and panels. <em>Notes</em>: data.frame method also allows name, index or one-sided formula i.e. <code>~time</code>. grouped_df method also allows lazy-evaluation i.e. <code>time</code> (no quotes).</p></td>
    </tr>
    <tr>
      <th>cols</th>
      <td><p><em>data.frame method</em>: Select columns to compute growth rates using a function, column names or indices. Default: All numeric variables. <em>Note</em>: <code>cols</code> is ignored if a two-sided formula is passed to <code>by</code>.</p></td>
    </tr>
    <tr>
      <th>fill</th>
      <td><p>value to insert when vectors are shifted. Default is <code>NA</code>.</p></td>
    </tr>
    <tr>
      <th>logdiff</th>
      <td><p>logical. Compute log-differences instead of exact growth rates. See Details.</p></td>
    </tr>
    <tr>
      <th>scale</th>
      <td><p>logical. Scale factor post-applied to growth rates, default is 100 which gives growth rates in percentage terms. See Details.</p></td>
    </tr>
    <tr>
      <th>stubs</th>
      <td><p>logical. <code>TRUE</code> will rename all computed columns by adding a prefix "L<code>n</code>G<code>diff</code>." / "F<code>n</code>G<code>diff</code>.", or "L<code>n</code>Dlog<code>diff</code>." / "F<code>n</code>Dlog<code>diff</code>." if <code>logdiff = TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>keep.ids</th>
      <td><p><em>data.frame / pdata.frame / grouped_df methods</em>: Logical. Drop all panel-identifiers from the output (which includes all variables passed to <code>by</code> or <code>t</code>). <em>Note</em>: For panel-data.frame's and grouped tibbles identifiers are dropped, but the 'index' / 'groups' attributes are kept.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments to be passed to or from other methods.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>fgrowth/G</code> by default computes exact growth rates using <code>repeat(diff) (x[i] - x[i-n])/x[i-n]*scale</code>, and, if `logdiff = TRUE` approximate growth rates using <code>repeat(diff) (log(x[i]) - log(x[i-n]))*scale</code>. So for <code>diff &gt; 1</code> it computes growth rate of growth rates etc.. For further details see the help pages for <code><a href='fdiff.html'>fdiff</a></code> and <code><a href='flag.html'>flag</a></code>.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>x</code> where the growth rate was taken <code>diff</code> times using lags <code>n</code> of itself, scaled by <code>scale</code>. Computations can be grouped by <code>g/by</code> and/or ordered by <code>t</code>. See Details and Examples.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='flag.html'>flag/L/F</a></code>, <code><a href='fdiff.html'>fdiff/D/Dlog</a></code>, <a href='time-series-panel-series.html'>Time-Series and Panel-Series</a>, <a href='collapse-documentation.html'>Collapse Overview</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'>## Simple Time-Series: AirPassengers</span>
<span class='fu'>G</span>(<span class='no'>AirPassengers</span>)                      <span class='co'># growth rate, same as fgrowth(AirPassengers)</span>
<span class='fu'>G</span>(<span class='no'>AirPassengers</span>, <span class='kw'>logdiff</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)      <span class='co'># log-difference</span>
<span class='fu'>G</span>(<span class='no'>AirPassengers</span>,<span class='fl'>1</span>,<span class='fl'>2</span>)                  <span class='co'># growth rate of growth rate</span>
<span class='fu'>G</span>(<span class='no'>AirPassengers</span>,<span class='fl'>12</span>)                   <span class='co'># seasonal growth rate (data is monthly)</span>

<span class='fu'>G</span>(<span class='no'>AirPassengers</span>,-<span class='fl'>2</span>:<span class='fl'>2</span>,<span class='fl'>1</span>:<span class='fl'>3</span>)             <span class='co'># sequence of leaded/lagged and iterated growth rates</span>

<span class='co'># let's do some visual analysis</span>
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='fu'>G</span>(<span class='no'>AirPassengers</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>12</span>)))
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/stl.html'>stl</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/window.html'>window</a></span>(<span class='fu'>G</span>(<span class='no'>AirPassengers</span>,<span class='fl'>12</span>),  <span class='co'># Taking seasonal growth rate removes most seasonal variation</span>
                <span class='fl'>1950</span>), <span class='st'>"periodic"</span>))


<span class='co'>## Time-Series Matrix of 4 EU Stock Market Indicators, recorded 260 days per year</span>
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='fu'>G</span>(<span class='no'>EuStockMarkets</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>260</span>)))                    <span class='co'># Plot series and annual growth rates</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>L260G1.DAX</span> ~<span class='no'>.</span>, <span class='fu'>G</span>(<span class='no'>EuStockMarkets</span>,<span class='fl'>260</span>)))   <span class='co'># Annual growth rate of DAX regressed on the</span>
                                                    <span class='co'># growth rates of the other indicators</span>

<span class='co'>## World Development Panel Data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='fu'>fgrowth</span>(<span class='fu'><a href='select_replace_vars.html'>num_vars</a></span>(<span class='no'>wlddev</span>), <span class='fl'>1</span>, <span class='fl'>1</span>,                    <span class='co'># Computes growth rates of numeric variables</span>
             <span class='no'>wlddev</span>$<span class='no'>country</span>, <span class='no'>wlddev</span>$<span class='no'>year</span>))              <span class='co'># fgrowth requires externall inputs...</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='fu'>G</span>(<span class='no'>wlddev</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, ~<span class='no'>country</span>, ~<span class='no'>year</span>))                  <span class='co'># Growth of numeric variables, id's attached</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='fu'>G</span>(<span class='no'>wlddev</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, ~<span class='no'>country</span>))                         <span class='co'># Without t: Works because data is ordered</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='fu'>G</span>(<span class='no'>wlddev</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='no'>PCGDP</span> + <span class='no'>LIFEEX</span> ~ <span class='no'>country</span>, ~<span class='no'>year</span>))  <span class='co'># Growth of GDP per Capita &amp; Life Expectancy</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='fu'>G</span>(<span class='no'>wlddev</span>, <span class='fl'>0</span>:<span class='fl'>1</span>, <span class='fl'>1</span>, ~ <span class='no'>country</span>, ~<span class='no'>year</span>, <span class='kw'>cols</span> <span class='kw'>=</span> <span class='fl'>9</span>:<span class='fl'>10</span>))  <span class='co'># Same, also retaining original series</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='fu'>G</span>(<span class='no'>wlddev</span>, <span class='fl'>0</span>:<span class='fl'>1</span>, <span class='fl'>1</span>, ~ <span class='no'>country</span>, ~<span class='no'>year</span>, <span class='fl'>9</span>:<span class='fl'>10</span>,          <span class='co'># Dropping id columns</span>
       <span class='kw'>keep.ids</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))

<span class='co'># Dynamic Panel-Data Models:</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='fu'>G</span>(<span class='no'>PCGDP</span>,<span class='fl'>1</span>,<span class='fl'>1</span>,<span class='no'>iso3c</span>,<span class='no'>year</span>) ~                    <span class='co'># GDP growth regressed on it's lagged level</span>
             <span class='fu'><a href='flag.html'>L</a></span>(<span class='no'>PCGDP</span>,<span class='fl'>1</span>,<span class='no'>iso3c</span>,<span class='no'>year</span>) +                    <span class='co'># and the growth rate of Life Expanctancy</span>
             <span class='fu'>G</span>(<span class='no'>LIFEEX</span>,<span class='fl'>1</span>,<span class='fl'>1</span>,<span class='no'>iso3c</span>,<span class='no'>year</span>), <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>wlddev</span>))

<span class='no'>g</span> <span class='kw'>=</span> <span class='fu'><a href='qF.html'>qF</a></span>(<span class='no'>wlddev</span>$<span class='no'>country</span>)                                  <span class='co'># Omitting t and precomputing g allows for a</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='fu'>G</span>(<span class='no'>PCGDP</span>,<span class='fl'>1</span>,<span class='fl'>1</span>,<span class='no'>g</span>) ~ <span class='fu'><a href='flag.html'>L</a></span>(<span class='no'>PCGDP</span>,<span class='fl'>1</span>,<span class='no'>g</span>) +              <span class='co'># bit more parsimonious specification</span>
                            <span class='fu'>G</span>(<span class='no'>LIFEEX</span>,<span class='fl'>1</span>,<span class='fl'>1</span>,<span class='no'>g</span>), <span class='no'>wlddev</span>))

<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>G1.PCGDP</span> ~<span class='no'>.</span>,                                 <span class='co'># Now adding level and lagged level of</span>
<span class='fu'><a href='flag.html'>L</a></span>(<span class='fu'>G</span>(<span class='no'>wlddev</span>,<span class='fl'>0</span>:<span class='fl'>1</span>,<span class='fl'>1</span>, ~ <span class='no'>country</span>, ~<span class='no'>year</span>,<span class='fl'>9</span>:<span class='fl'>10</span>),<span class='fl'>0</span>:<span class='fl'>1</span>,           <span class='co'># LIFEEX and lagged growth rates</span>
  ~ <span class='no'>country</span>, ~<span class='no'>year</span>, <span class='kw'>keep.ids</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)[-<span class='fl'>1</span>]))

<span class='co'>## Using plm can make things easier, but avoid attaching or 'with' calls:</span>
<span class='no'>pwlddev</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>plm</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/plm/man/pdata.frame.html'>pdata.frame</a></span>(<span class='no'>wlddev</span>, <span class='kw'>index</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"country"</span>,<span class='st'>"year"</span>))
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='fu'>G</span>(<span class='no'>pwlddev</span>, <span class='fl'>0</span>:<span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>9</span>:<span class='fl'>10</span>))                          <span class='co'># Again growth rates of LIFEEX and PCGDP</span>
<span class='no'>PCGDP</span> <span class='kw'>&lt;-</span> <span class='no'>pwlddev</span>$<span class='no'>PCGDP</span>                                  <span class='co'># A panel-Series of GDP per Capita</span>
<span class='fu'>G</span>(<span class='no'>PCGDP</span>)                                                <span class='co'># Growth rate of the panel series.</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>G1.PCGDP</span> ~<span class='no'>.</span>,                                 <span class='co'># Running the dynamic model again -&gt;</span>
           <span class='kw'>data</span> <span class='kw'>=</span> <span class='fu'><a href='flag.html'>L</a></span>(<span class='fu'>G</span>(<span class='no'>pwlddev</span>,<span class='fl'>0</span>:<span class='fl'>1</span>,<span class='fl'>1</span>,<span class='fl'>9</span>:<span class='fl'>10</span>),<span class='fl'>0</span>:<span class='fl'>1</span>,          <span class='co'># code becomes a bit simpler</span>
                    <span class='kw'>keep.ids</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)[-<span class='fl'>1</span>]))

<span class='co'># One could be tempted to also do something like this, but THIS DOES NOT WORK!!!:</span>
<span class='co'># lm drops the attributes (-&gt; with(pwlddev, PCGDP) drops attr. so G.default and L.matrix are used)</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='fu'>G</span>(<span class='no'>PCGDP</span>) ~ <span class='fu'><a href='flag.html'>L</a></span>(<span class='fu'>G</span>(<span class='no'>PCGDP</span>,<span class='fl'>0</span>:<span class='fl'>1</span>)) + <span class='fu'><a href='flag.html'>L</a></span>(<span class='fu'>G</span>(<span class='no'>LIFEEX</span>,<span class='fl'>0</span>:<span class='fl'>1</span>),<span class='fl'>0</span>:<span class='fl'>1</span>), <span class='no'>pwlddev</span>))

<span class='co'># To make it work, one needs to create pseries (note: attach(pwlddev) also won't work)</span>
<span class='no'>LIFEEX</span> <span class='kw'>&lt;-</span> <span class='no'>pwlddev</span>$<span class='no'>LIFEEX</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='fu'>G</span>(<span class='no'>PCGDP</span>) ~ <span class='fu'><a href='flag.html'>L</a></span>(<span class='fu'>G</span>(<span class='no'>PCGDP</span>,<span class='fl'>0</span>:<span class='fl'>1</span>)) + <span class='fu'><a href='flag.html'>L</a></span>(<span class='fu'>G</span>(<span class='no'>LIFEEX</span>,<span class='fl'>0</span>:<span class='fl'>1</span>),<span class='fl'>0</span>:<span class='fl'>1</span>))) <span class='co'># THIS WORKS !!</span>

<span class='co'>## Using dplyr:</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>dplyr</span>)
<span class='no'>wlddev</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span>(<span class='no'>country</span>) <span class='kw'>%&gt;%</span>
             <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span>(<span class='no'>PCGDP</span>,<span class='no'>LIFEEX</span>) <span class='kw'>%&gt;%</span> <span class='fu'>fgrowth</span>(<span class='fl'>0</span>:<span class='fl'>1</span>)         <span class='co'># Adding growth rates</span>
<span class='no'>wlddev</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span>(<span class='no'>country</span>) <span class='kw'>%&gt;%</span>
             <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span>(<span class='no'>year</span>,<span class='no'>PCGDP</span>,<span class='no'>LIFEEX</span>) <span class='kw'>%&gt;%</span>
             <span class='fu'>fgrowth</span>(<span class='fl'>0</span>:<span class='fl'>1</span>, <span class='kw'>t</span> <span class='kw'>=</span> <span class='no'>year</span>)                          <span class='co'># Also using t (safer)</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sebastian Krantz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


